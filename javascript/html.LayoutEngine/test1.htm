<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="js/jquery-1.9.1.min.js" type="text/javascript"></script>
</head>
    <body>
        <div id="msg"></div>
        <script>
            function log(msg) {
                var div = $("<div></div>");
                div.text(msg);
                $("#msg").append(div);
            }
            function Delay(ms,fn) {
                this.active = false;
                this.timer = null;
                this.ms = ms;
                this.fn = fn;
            }

            Delay.prototype = {
                run: function () {
                    var me = this;
                    log(me.active);
                    if (me.active === false) {
                        me.active = true;
                        me.timer = setTimeout(function () {
                            me.fn();
                            clearTimeout(me.timer);
                            me.timer = null;
                            me.active = false;
                        }, me.ms);
                    }
                }
            };
            var onResizeDelay = new Delay(100, function() {
                log("window resize");
                log("=======");
            });
            var isresize = false;
            function onResize() {
                onResizeDelay.run();
            }
            
            

            $(function () {
                $(window).bind("resize", onResize);
            });
        </script>
    </body>
</html>
